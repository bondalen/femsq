# Thin JAR: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|------|-------|----------|
| **–†–∞–∑–º–µ—Ä JAR** | 51 –ú–ë | **704 –ö–ë** | **98.6%** ‚ú® |
| **–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** | ~5 –º–∏–Ω | ~10 —Å–µ–∫ | **97%** ‚ö° |
| **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏** | –í–Ω—É—Ç—Ä–∏ JAR | –í `lib/` (–æ–¥–∏–Ω —Ä–∞–∑) | –ü–æ–≤—Ç–æ—Ä–Ω–æ –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è |

---

## üöÄ –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–¥–∏–Ω —Ä–∞–∑)

### –®–∞–≥ 1: –ò–∑–≤–ª–µ—á—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ JAR

```bash
cd /home/user/femsq-test

# –ò–∑–≤–ª–µ–∫–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –û–î–ò–ù –†–ê–ó)
bash extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
  –ë–∏–±–ª–∏–æ—Ç–µ–∫ –∏–∑–≤–ª–µ—á–µ–Ω–æ: 60
  –†–∞–∑–º–µ—Ä lib/: 50M
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:
```
/home/user/femsq-test/
‚îú‚îÄ‚îÄ lib/                              # 50 –ú–ë (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ spring-boot-3.4.5.jar
‚îÇ   ‚îú‚îÄ‚îÄ jasperreports-7.0.1.jar
‚îÇ   ‚îî‚îÄ‚îÄ ... (60 —Ñ–∞–π–ª–æ–≤)
‚îú‚îÄ‚îÄ femsq-web-0.1.0.1-SNAPSHOT.jar   # –°—Ç–∞—Ä—ã–π Fat JAR (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
‚îî‚îÄ‚îÄ extract-libs-from-fatjar.sh
```

**‚úÖ –ì–æ—Ç–æ–≤–æ! –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω—ã, –±–æ–ª—å—à–µ –∏—Ö –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.**

---

## üîÑ –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

### –®–∞–≥ 2: –°–æ–±—Ä–∞—Ç—å Thin JAR

```bash
cd /home/alex/projects/java/spring/vue/femsq/code

# –°–æ–±–∏—Ä–∞–µ–º Thin JAR (–±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫)
./scripts/build-thin-jar.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úì –°–±–æ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
  Fat JAR:  51M
  Thin JAR: 704K  ‚Üê –¢–æ–ª—å–∫–æ —ç—Ç–æ –∏ –ø–µ—Ä–µ–¥–∞—ë–º!
```

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Thin JAR –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∞)
cp code/femsq-backend/femsq-web/target/femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
   /home/user/femsq-test/

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–æ —Å–µ—Ç–∏
scp code/femsq-backend/femsq-web/target/femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
    user@target-machine:/home/user/femsq-test/
```

**–†–∞–∑–º–µ—Ä –ø–µ—Ä–µ–¥–∞—á–∏: 704 –ö–ë (–≤–º–µ—Å—Ç–æ 51 –ú–ë!)**

---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ (–Ω–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

```bash
cd /home/user/femsq-test

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏
bash run-with-external-libs.sh \
    femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
    ./lib
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ:
```bash
bash run-with-external-libs.sh
```

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ `lib/`**

---

## üì¶ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤

```bash
# –ù–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
ls -lh /home/user/femsq-test/

# –í—ã–≤–æ–¥:
# -rw-r--r-- 1 user user  51M  ‚Üê femsq-web-0.1.0.1-SNAPSHOT.jar (—Å—Ç–∞—Ä—ã–π)
# -rw-r--r-- 1 user user 704K  ‚Üê femsq-web-0.1.0.1-SNAPSHOT-thin.jar (–Ω–æ–≤—ã–π!)
# drwxr-xr-x 2 user user  50M  ‚Üê lib/ (60 —Ñ–∞–π–ª–æ–≤)
```

---

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ (—Ä–µ–¥–∫–æ)

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–∏ Spring Boot
- –î–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```bash
# –ù–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ
rm -rf /home/user/femsq-test/lib

# –ü–µ—Ä–µ–¥–∞—ë–º –Ω–æ–≤—ã–π Fat JAR (–æ–¥–∏–Ω —Ä–∞–∑)
scp femsq-web-0.1.0.1-SNAPSHOT.jar user@target-machine:/home/user/femsq-test/

# –ò–∑–≤–ª–µ–∫–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–Ω–æ–≤–æ
ssh user@target-machine
cd /home/user/femsq-test
bash extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
```

---

## ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

### –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑):
- [x] –ò–∑–≤–ª–µ—á–µ–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ Fat JAR ‚Üí `lib/` (50 –ú–ë)
- [x] –°–æ–±—Ä–∞–Ω Thin JAR (704 –ö–ë)
- [x] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ `run-with-external-libs.sh`
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ö–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
- [ ] –°–æ–±—Ä–∞—Ç—å Thin JAR: `./scripts/build-thin-jar.sh`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Thin JAR (704 –ö–ë)
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è —Ç—Ä–∞—Ñ–∏–∫–∞:** 704 –ö–ë –≤–º–µ—Å—Ç–æ 51 –ú–ë –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ 10 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 5 –º–∏–Ω—É—Ç  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ JAR  
‚úÖ **–û—Ç–∫–∞—Ç:** –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ Fat JAR –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** `ClassNotFoundException`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–≤–ª–µ—á–µ–Ω—ã:
```bash
ls -la /home/user/femsq-test/lib/ | wc -l
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 60+ —Ñ–∞–π–ª–æ–≤
```

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** `Error: Could not find or load main class`

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ `lib/`:
```bash
bash run-with-external-libs.sh \
    femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
    ./lib  # –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º
```

### –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç–µ `lib/` –∏ –∏–∑–≤–ª–µ–∫–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –∏–∑ –Ω–æ–≤–æ–≥–æ Fat JAR.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/deployment/thin-jar-migration.md`

**–î–∞—Ç–∞:** 2025-11-26  
**–í–µ—Ä—Å–∏—è:** 1.0
