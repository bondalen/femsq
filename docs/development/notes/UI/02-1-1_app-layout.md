**Дата:** 2025-11-11  
**Автор:** Александр  
**Этап:** 02.1.1

### Постоянный layout приложения
**Роль каркаса**: обеспечить пользователю неизменные точки доступа к подключению к БД и спискам организаций, а также постоянно показывать текущее состояние соединения и выбранной схемы.

**Верхняя панель**
- Логотип/название продукта слева, сохраняет контекст и может использоваться для возврата на домашний экран.
- Кнопка `Подключение к БД` (primary). Всегда видна, открывает модальное окно подключения. Подпись статуса (иконка + текст) показывает текущее состояние соединения.
- Кнопка `Организации` (secondary). Активируется после успешного подключения, ведёт на экран списка организаций. В отключённом состоянии подсказка «Сначала подключитесь к БД».
- Индикатор активного раздела (подсветка кнопки) облегчает навигацию.

**Основная область контента**
- Занимает всё оставшееся пространство. На этапе каркаса содержит placeholder: приветственный текст, подсказки по подключению и динамически сменяемый контент экранов (подключение, организации, агенты).
- Поддерживает responsive-верстку; при ширине < 768px кнопки верхней панели сворачиваются в overflow-меню с выпадающим списком.

**Нижняя строка состояния**
- Слева: текстовый статус соединения (`не подключено`, `идёт подключение`, `подключено`, `ошибка`, `отключено`). Цвет и иконка соответствуют состоянию.
- По центру: текущее действие или прогресс (например, «Чтение метаданных…»). При отсутствии активности показывает последнюю успешную операцию.
- Справа: название схемы/базы и, при наличии, имя пользователя. При отсутствии подключений выводит подсказку «Схема не выбрана».

**Состояния каркаса**
- `idle` (по умолчанию, соединение отсутствует): кнопка `Организации` отключена, строка состояния сообщает «не подключено».
- `connecting`: кнопка `Подключение к БД` показывает спиннер, `Организации` заблокирована, строка состояния отображает прогресс.
- `connected`: обе кнопки активны, строка состояния зелёная, показывает схему/пользователя.
- `connectionError`: верхняя панель подсвечивает ошибку, кнопка подключения выделяется красным бордером, строка состояния показывает текст ошибки и кнопку «Подробнее».
- `disconnecting`: кратковременное состояние при ручном отключении; кнопки временно блокируются, нижняя строка сообщает «Отключение…».

**UX-подсказки**
- Все состояния сопровождаются короткими подсказками, доступными по наведению (tooltip) для кнопок и индикаторов.
- Цветовое кодирование (серый, синий, зелёный, красный) дополняется текстом для доступности.
- В мобильном виде строка состояния фиксируется над нижней навигацией, чтобы не перекрывать системные жесты.
