**Дата:** 2025-11-11  
**Автор:** Александр  
**Связанные задачи:** task:0003, task:0015, task:0017, task:0018

## Контекст
- Структурный план вынесен из `docs/development/project-development.json` для оперативного сопровождения в чатах.  
- K1 (REST/GraphQL API для Og/OgAg) закрыта 2025-11-11 вместе с интеграционным тестом `ApiOrganizationsSuccessIT` и ручной проверкой.  
- Этапы 2 и 3 сосредоточены на пользовательском UI и CI-пайплайнах, опираются на готовый backend.

## Структурный план (№ 00)
- ✅ 01.0 Этап 1 ― API для OgService/OgAgService (связь: task:0002, task:0003, task:0007)
  - ✅ 01.1 Актуализация моделей и требований по данным (task:0003, task:0013, task:0014)
  - ⏳ 01.2 Проектирование DTO слоев и мапперов (см. предложение task:0016)
  - ✅ 01.3 Описание и выравнивание REST/GraphQL контрактов (task:0007, предложение task:0017)
  - ✅ 01.4 Реализация и интеграционные проверки API (выход на контрольную точку K1)
    - ✅ 01.4.1 Автотесты сервисов/мэпперов (task:0003)
    - ✅ 01.4.2 Ручной прогон через браузер/REST-клиент (контрольная точка K1)
- ⏳ 02.0 Этап 2 ― Интерфейс просмотра организаций и агентов (связь: task:0008)
  - ⏳ 02.1 UX-флоу подключения и выбора таблиц
    - ⏳ 02.1.1 Каркас приложения с кнопками и строкой состояния (постоянный layout)
    - ⏳ 02.1.2 Сценарий модальной формы подключения (поля, действия, изменение статуса) — см. [docs/development/notes/UI/02-1-2_connection-modal.md](./UI/02-1-2_connection-modal.md)
    - ⏳ 02.1.3 UX-описание экрана организаций (таблица, детали, список агентов) — см. [docs/development/notes/UI/02-1-3_organizations-screen.md](./UI/02-1-3_organizations-screen.md)
    - ⏳ 02.1.4 Пользовательские сценарии «подключение → просмотр организаций» — см. [docs/development/notes/UI/02-1-4_connection-to-organizations-flow.md](./UI/02-1-4_connection-to-organizations-flow.md)
    - **→ project-development:** «UX-макет подключения и просмотра организаций (task:0018, блок 02.1)»
  - ⏳ 02.2 Реализация компонентов списка/детализации и связка с API (контрольная точка K2)
  - ⏳ 02.3 Минимальные UX-тесты и обратная связь (при необходимости уточнить критерии)

→ UX-описание постоянного каркаса: [docs/development/notes/UI/02-1-1_app-layout.md](./UI/02-1-1_app-layout.md).

- ✅ 03.0 Документация и синхронизация артефактов
  - ✅ 03.1 Обновление project-docs.json и расширений (в привязке к module:backend.web, module:frontend)
  - ✅ 03.2 Актуализация project-development.json (вставка новых задач, обновление displayName)
  - ✅ 03.3 Журналирование прогресса в project-journal.json (включая отметки по контрольным точкам K1/K2)

## Контрольные точки
- K1 ― API доступно в браузере/REST-клиенте (закрывает блок 01.4; в рамках task:0007)
- K2 ― Фронтенд-интерфейс показывает данные og/ogAg (закрывает блок 02.2; в рамках task:0008)

## Предложения по следующим шагам
1. Подготовить UX-макет и пользовательские сценарии для блока 02.1, затем декомпозировать разработку интерфейса.  
   - Зафиксировать единый каркас экрана приложения (верхняя панель с кнопками «подключение к БД» и «организации», постоянная нижняя строка состояния с отображением статуса/схемы).  
   - Описать сценарий работы модальной формы подключения (поля host/port/database/user/password/authMode, кнопки «подключить», «отмена», смена статуса после успешного подключения).  
   - Определить представление экрана организаций: таблица со столбцами `ogKey`, `ogName`, блок деталей организации (все поля таблицы) и список агентов (без пагинации).  
   - **→ Добавить в project-development.json:** задачу для макета и пользовательских сценариев UX подключения/просмотра (объединённая задача уровня блока 02.1).
2. Оценить потребность в дополнительных DTO и мапперах по итогам пунктов 01.1–01.3.
3. Сформировать требования к CI-пайплайну и автоматизированным проверкам конфигурации на основе контрольной точки K1.
