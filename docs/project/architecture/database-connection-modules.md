# Архитектура модулей системы подключения к БД

**Дата создания:** 2025-01-27  
**Версия:** 1.0.0  
**Статус:** Проектирование

## Общие положения

### Контекст безопасности
- Проект работает в **безопасной внутренней сети организации**
- **Шифрование НЕ требуется** - пароли хранятся в plain text
- **Аутентификация пользователей НЕ требуется**
- Безопасность обеспечивается инфраструктурой организации
- Файл конфигурации защищен только правами ОС (chmod 600)

---

## Модули системы

### Модуль 01: Database Configuration Module
- Управление конфигурацией подключения
- Работа с файлом ~/.femsq/database.properties
- Поддержка 3 типов аутентификации (integrated, trusted, credentials)
- **Без шифрования** - plain text хранение

### Модуль 02: Web UI Module  
- Веб-форма настройки подключения (/setup)
- REST API для конфигурации
- Vue.js интерфейс (встроенный в JAR)
- Тестирование подключения

### Модуль 03: Application Lifecycle Module
- Инициализация при старте
- Автооткрытие формы настройки (первый запуск)
- Health checks
- Liquibase миграции

### Модуль 04: Data Models Module
- DTOs и POJOs
- Модели конфигурации
- Enums типов аутентификации

### Модуль 05: Exception Handling Module
- Custom исключения
- Global exception handler для API
- Обработка ошибок подключения

---

## Порядок разработки

**Фаза 1:** Модуль 04, 05, 01.01 (базовая инфраструктура)  
**Фаза 2:** Модуль 01.02, 01.03 (подключение к БД)  
**Фаза 3:** Модуль 03 (жизненный цикл)  
**Фаза 4:** Модуль 02.01, 05.02 (backend API)  
**Фаза 5:** Модуль 02.02, 02.03 (frontend)  

**Детальное описание:** См. файл с подробной структурой классов в `docs/project/technical/`