@startuml Package Structure

title FEMSQ - Структура пакетов

skinparam packageStyle rectangle
skinparam classStyle rectangle
skinparam classAttributeIconSize 0

package "com.femsq" {
  
  package "database" {
    package "config" {
      class "DatabaseConfiguration\nService" as DBCfgSvc
      class "Configuration\nFileManager" as CfgFileMgr
      class "Configuration\nValidator" as CfgValidator
    }
    
    package "connection" {
      class "Connection\nFactory" as ConnFactory
      class "ConnectionPool\nManager" as ConnPoolMgr
      class "Connection\nValidator" as ConnValidator
    }
    
    package "auth" {
      interface "Authentication\nProvider" as AuthProv
      class "IntegratedSecurity\nProvider" as IntSecProv
      class "TrustedConnection\nProvider" as TrustConnProv
      class "CredentialsAuth\nProvider" as CredAuthProv
      class "Authentication\nDetector" as AuthDetector
    }
    
    package "model" {
      class "Database\nConfiguration" as DBCfg
      enum "Authentication\nMethod" as AuthMethod
      class "ConnectionTest\nResult" as ConnTestRes
      class "Connection\nStatus" as ConnStatus
    }
    
    package "exception" {
      class "DatabaseConfig\nException" as DBCfgEx
      class "ConnectionFailed\nException" as ConnFailedEx
      class "AuthFailed\nException" as AuthFailedEx
      class "ConfigFile\nException" as CfgFileEx
    }
  }
  
  package "web" {
    package "controller" {
      class "Setup\nController" as SetupCtrl
      class "ConfigApi\nController" as CfgApiCtrl
      class "ConnectionStatus\nController" as ConnStatusCtrl
    }
    
    package "lifecycle" {
      class "ApplicationStartup\nListener" as AppStartupLsnr
      class "Configuration\nInitializer" as CfgInitializer
      class "DatabaseConnection\nInitializer" as DBCnnInitializer
    }
    
    package "health" {
      class "DatabaseHealth\nIndicator" as DBHealthInd
      class "ConfigurationHealth\nIndicator" as CfgHealthInd
    }
    
    package "exception" {
      class "GlobalException\nHandler" as GlobalExHndlr
    }
  }
}

@enduml