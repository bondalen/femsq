# Правила ведения проектной документации FEMSQ

**Версия:** 1.0.0  
**Дата создания:** 2025-10-08  
**Последнее обновление:** 2025-10-08  
**Автор:** Александр  

## Обзор

Данный документ описывает структуру, правила и порядок ведения проектной документации для "Cистемы работы с контрагентами и объектами при капитальном строительстве на основе БД MS SQL Server" FEMSQ (Fish Eye MS SQL Server). Система предназначена для организации взаимодействия с контрагентами и дочерними организациями при капитальном строительстве.

## Структура документации

### 1. **project/project-docs.json** - Проектная документация
**Назначение:** Центральный файл с описанием архитектуры, технологий, модулей и конфигурации проекта.
**Содержание и правила ведения:** описаны в файле **project/project-docs-json-rules.md**.

### 2. **development/project-development.json** - Планирование разработки
**Назначение:** Файл планирования разработки в виде иерархической структуры задач с возможностью сворачивания ветвей.
**Содержание и правила ведения:** описаны в файле **development/project-development-json-rules.md**.

### 3. **journal/project-journal.json** - Дневник разработки
**Назначение:** Дневник разработки с детальным описанием выполненных работ, изменений и состояний.
**Содержание и правила ведения:** описаны в файле **journal/project-journal-json-rules.md**.


## Объекты разработки

### Кодовая база проекта
- Структура папок и файлов в папке **src** - соответствуе структуре определенной в разделе "Модули и их описание" в файле **project-docs.json**.

## Процесс добавления новых артефактов

### Обязательный чеклист при создании нового артефакта

#### При создании нового модуля, компонента или класса:
1. **Создать файл или папку артефакта** в соответствующей требованиям раздела "Кодовая база проекта" директории
2. **Добавить в project-docs.json:**
   - Найти соответствующий модуль в `project.architecture.modules.list[N]`
   - Если нужен новый компонент или модуль- создать его
   - Добавить артефакт в соответствующий массив, например класс в массив `classes` компонента
   - Указать: `id`, `name`, `location`, `responsibilities`, `dependsOn`, `status`
3. **Создать задачу в project-development.json:**
   - Добавить задачу разработки класса с ID, приоритетом, оценкой
   - Указать ссылку на элемент в `projectDocsRefs`
4. **Добавить запись в project-journal.json:**
   - Создать лог о начале работы над классом
   - Указать ссылки на задачу и элемент проекта
5. **Обновить зависимости:**
   - Если класс используется в других местах - добавить в `dependsOn`
   - Если класс упоминается в стадиях - добавить ссылку на него в атрибуте `class`

### Контроль целостности ссылок

При добавлении артефакта **ОБЯЗАТЕЛЬНО** проверить:
- ✅ Есть ли описание в разделе модулей `project-docs.json`
- ✅ Есть ли задача разработки в `project-development.json`
- ✅ Есть ли запись в журнале `project-journal.json`
- ✅ Корректны ли все ссылки (`projectDocsRefs`, `aiRuleRefs`, `journalRefs`)
- ✅ Указаны ли зависимости (`dependsOn`, `predecessors`)
- ✅ Обновлен ли статус (`status`: planned/in-progress/implemented)

## Связи между файлами

### 1. **project-docs.json** → **project-development.json**
```json
{
  "project": {
    "development-objects": {
      "ai-rules": {
        "location": "src/ai-rules/",
        "development_status": "in-development",
        "development_tasks": ["01.02", "01.02.01", "01.02.02"]
      }
    }
  }
}
```

### 2. **project-development.json** → **project-journal.json**
```json
{
  "tasks": [
    {
      "id": "01.02.01",
      "object-type": "ai-rules",
      "object-location": "src/ai-rules/migration/",
      "developmentLogs": [
        "log-2025-01-27-001",
        "log-2025-01-27-002"
      ]
    }
  ]
}
```

### 3. **project-journal.json** → **project-docs.json**
```json
{
  "entries": [
    {
      "id": "log-2025-01-27-001",
      "object-type": "ai-rules",
      "object-location": "src/ai-rules/migration/table-migration.md",
      "projectElement": "project.development-objects.ai-rules"
    }
  ]
}
```

## Правила обновления

### Обязательные требования
- **Перед любыми корректировками документации** - обязательно изучить и учесть правила ведения документации здесь и в файлах project/project-docs-json-rules.md, development/project-development-json-rules.md и journal/project-journal-json-rules.md
- **Перед созданием записей в журнале** - обязательно запросить имя чата у пользователя с предложением вариантов
- **При изменении структуры** - обновить соответствующие правила и связанные файлы

### Формат дат
- **ISO 8601:** YYYY-MM-DDTHH:mm:ssZ
- **Пример:** 2025-01-27T10:30:00Z

## Структура файлов документации

### Организация папок
```
docs/
├── project-documentation-rules.md  # Правила ведения документации
├── project/                        # Документация проекта
│   ├── project-docs.json          # Основной файл проекта
│   ├── architecture/              # Архитектурная документация
│   ├── decisions/                 # ADR решения
│   └── technical/                 # Техническая документация
├── development/                    # Документация разработки
│   ├── project-development.json   # Файл задач разработки
│   ├── tasks/                     # Описания задач
│   ├── technical/                 # Технические детали
│   └── notes/                     # Заметки по реализации
└── journal/                       # Журнал разработки
    ├── project-journal.json       # Файл журнала
    ├── actions/                   # Описания действий
    ├── technical/                 # Технические детали
    ├── notes/                     # Заметки по реализации
    └── troubleshooting/           # Решение проблем
```

### Принципы организации
- **Модульность** - каждый тип документации в своей папке
- **Самодостаточность** - каждая папка содержит все необходимые файлы
- **Навигация** - понятная структура для быстрого поиска
- **Расширяемость** - легко добавлять новые типы документации

## Инструменты и автоматизация

### Рекомендуемые инструменты
- **JSON Editor** - для редактирования JSON файлов
- **Git** - для версионирования изменений
- **Markdown Editor** - для ADR документации
- **Task Tracker** - для отслеживания прогресса

### Автоматизация
- **Валидация JSON** - проверка корректности структуры
- **Синхронизация ссылок** - проверка целостности связей
- **Генерация отчетов** - автоматическое создание отчетов
- **Уведомления** - оповещения об изменениях

## Контроль качества

### Проверки
- **Структурная целостность** - корректность JSON структуры
- **Ссылочная целостность** - существование всех ссылок
- **Временная согласованность** - логичность временных рамок
- **Зависимостная целостность** - корректность зависимостей

### Ревизии
- **Еженедельные** - проверка актуальности документации
- **Ежемесячные** - анализ полноты и качества
- **Квартальные** - пересмотр структуры и правил
- **По требованию** - при значительных изменениях

## Резервное копирование

### Стратегия бэкапов
- **Ежедневные** - автоматические бэкапы в Git
- **Еженедельные** - полные копии файлов
- **Перед изменениями** - создание снимков состояния
- **Внешние** - копирование в облачные хранилища

### Восстановление
- **Из Git** - восстановление из истории версий
- **Из бэкапов** - восстановление из резервных копий
- **Частичное** - восстановление отдельных разделов
- **Полное** - восстановление всей документации

## Заключение

Данная система документации обеспечивает:
- **Полноту** - охват всех аспектов проекта
- **Структурированность** - четкая организация информации
- **Трассируемость** - возможность отслеживания изменений
- **Масштабируемость** - возможность расширения системы
- **Удобство использования** - простота навигации и поиска
- **Поддержку разработки правил AI** - как объектов разработки
- **Правила для AI-ассистента** - четкие инструкции для работы с Cursor IDE

Соблюдение данных правил гарантирует качество и актуальность проектной документации на всех этапах разработки системы.

---

**Документ утвержден:** 2025-10-06  
**Следующий пересмотр:** 2026-01-06  
**Ответственный:** Александр
