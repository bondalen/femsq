# –°–∫—Ä–∏–ø—Ç—ã —Å–±–æ—Ä–∫–∏ –∏ –¥–µ–ø–ª–æ—è FEMSQ

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### üîß –°–±–æ—Ä–∫–∞

#### `build-thin-jar.sh`
–°–±–æ—Ä–∫–∞ Thin JAR (–±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫) –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/build-thin-jar.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- `target/femsq-web-0.1.0.1-SNAPSHOT.jar` (51 –ú–ë) ‚Äî Fat JAR
- `target/femsq-web-0.1.0.1-SNAPSHOT-thin.jar` (704 –ö–ë) ‚Äî Thin JAR

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ü—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –ø–µ—Ä–µ–¥–∞—á–∏.

---

### üì¶ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫

#### `extract-libs-from-fatjar.sh`
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ Fat JAR –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `lib/`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./extract-libs-from-fatjar.sh <fat-jar-path> [target-directory]

# –ü—Ä–∏–º–µ—Ä—ã:
./extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
./extract-libs-from-fatjar.sh /path/to/app.jar /opt/femsq
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `lib/` —Å 60 JAR-—Ñ–∞–π–ª–∞–º–∏ (~50 –ú–ë)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ `BOOT-INF/lib/` Fat JAR

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** 
- **–û–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ—Ä—Å–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫ (—Ä–µ–¥–∫–æ)

---

### ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

#### `run-with-external-libs.sh`
–ó–∞–ø—É—Å–∫–∞–µ—Ç Thin JAR —Å –≤–Ω–µ—à–Ω–∏–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `lib/`.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./run-with-external-libs.sh [thin-jar-path] [lib-dir]

# –ü—Ä–∏–º–µ—Ä—ã:
./run-with-external-libs.sh                              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
./run-with-external-libs.sh app-thin.jar ./lib           # –Ø–≤–Ω—ã–µ –ø—É—Ç–∏
./run-with-external-libs.sh /opt/femsq/app.jar /opt/femsq/lib
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Thin JAR.

---

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

#### `setup-dbhub.sh`
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ DBHub –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ MCP.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
./scripts/setup-dbhub.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–∑–¥–∞—ë—Ç—Å—è `.cursor/dbhub/` —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `@bytebase/dbhub`
- –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ Cursor IDE

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –ø–æ—Å–ª–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

---

## üöÄ –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤–∏—á–Ω—ã–π –¥–µ–ø–ª–æ–π (–º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Thin JAR)

**–ù–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–¥–∏–Ω —Ä–∞–∑):**
```bash
cd /home/user/femsq-test

# –ò–∑–≤–ª–µ–∫–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ JAR
bash extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
```

**–ù–∞ –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
```bash
cd /home/alex/projects/java/spring/vue/femsq/code

# –°–æ–±–∏—Ä–∞–µ–º Thin JAR
./scripts/build-thin-jar.sh

# –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞ –º–∞—à–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
scp femsq-backend/femsq-web/target/femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
    user@target:/home/user/femsq-test/
```

**–≠–∫–æ–Ω–æ–º–∏—è:** 51 –ú–ë ‚Üí 704 –ö–ë –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–æ—Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ä–µ–≥—É–ª—è—Ä–Ω–æ)

**–ù–∞ –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
```bash
cd /home/alex/projects/java/spring/vue/femsq/code

# 1. –°–æ–±–∏—Ä–∞–µ–º Thin JAR
./scripts/build-thin-jar.sh

# 2. –ö–æ–ø–∏—Ä—É–µ–º –Ω–∞ –º–∞—à–∏–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (704 –ö–ë!)
scp femsq-backend/femsq-web/target/femsq-web-0.1.0.1-SNAPSHOT-thin.jar \
    user@target:/home/user/femsq-test/
```

**–ù–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
cd /home/user/femsq-test

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
bash run-with-external-libs.sh femsq-web-0.1.0.1-SNAPSHOT-thin.jar ./lib
```

**–í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** ~10-15 —Å–µ–∫—É–Ω–¥ (–≤–º–µ—Å—Ç–æ 5+ –º–∏–Ω—É—Ç)

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ (—Ä–µ–¥–∫–æ)

**–ö–æ–≥–¥–∞:** –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Spring Boot, –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–ù–∞ –º–∞—à–∏–Ω–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
```bash
# –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π Fat JAR
cd /home/alex/projects/java/spring/vue/femsq/code
mvn clean install -pl femsq-backend/femsq-web -am -DskipTests

# –ö–æ–ø–∏—Ä—É–µ–º Fat JAR
scp femsq-backend/femsq-web/target/femsq-web-0.1.0.1-SNAPSHOT.jar \
    user@target:/home/user/femsq-test/
```

**–ù–∞ –º–∞—à–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
cd /home/user/femsq-test

# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
rm -rf lib/

# –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω–æ–≤—ã–µ
bash extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤

| –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ |
|------|--------|-----------|
| **Fat JAR** | 51 –ú–ë | –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ |
| **Thin JAR** | 704 –ö–ë | –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |
| **lib/** | 50 –ú–ë | 60 –±–∏–±–ª–∏–æ—Ç–µ–∫ (–∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑) |

**–≠–∫–æ–Ω–æ–º–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:** 51 –ú–ë ‚Üí 704 –ö–ë = **98.6%**

---

## üîó –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `../docs/deployment/thin-jar-quick-start.md`
- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** `../docs/deployment/thin-jar-migration.md`
- **–ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞:** `../docs/project-documentation-rules.md`

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "JAR —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å –∫ JAR –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
ls -la femsq-web-0.1.0.1-SNAPSHOT.jar
```

### –û—à–∏–±–∫–∞: "–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è lib –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
```bash
# –ò–∑–≤–ª–µ–∫–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
bash extract-libs-from-fatjar.sh femsq-web-0.1.0.1-SNAPSHOT.jar
```

### –û—à–∏–±–∫–∞: "ClassNotFoundException"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫
ls -la lib/*.jar | wc -l  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 60+
```

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-11-26  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** –ê–ª–µ–∫—Å–∞–Ω–¥—Ä
